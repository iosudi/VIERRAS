"use strict";(self.webpackChunkVIERRAS_=self.webpackChunkVIERRAS_||[]).push([[259],{259:(mt,C,l)=>{l.r(C),l.d(C,{AccountModule:()=>gt});var g=l(6814),s=l(6223),h=l(7213),Z=l(2169),u=l(101),A=l(9402),m=l.n(A),t=l(8926),p=l(5516),b=l(9862);let _=(()=>{class e{constructor(n){this._HttpClient=n,this.headers={token:localStorage.getItem("token")}}updateUserData(n){return this._HttpClient.put(p.N.baseURL+"api/v1/users/updateMe/",n,{headers:this.headers})}updateUserPassword(n){return this._HttpClient.put(p.N.baseURL+"api/v1/users/changeMyPassword",n,{headers:this.headers})}addAddress(n){return this._HttpClient.post(p.N.baseURL+"api/v1/addresses",n,{headers:this.headers})}deleteAddress(n){return this._HttpClient.delete(p.N.baseURL+`api/v1/addresses/${n}`,{headers:this.headers})}getSpecificAddress(n){return this._HttpClient.get(p.N.baseURL+`api/v1/addresses/${n}`,{headers:this.headers})}getUserAddresses(){return this._HttpClient.get(p.N.baseURL+"api/v1/addresses",{headers:this.headers})}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function x(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," Your name is required "),t.qZA())}function w(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," Name must be at least 3 characters. "),t.qZA())}function P(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," Name can not contain special characters. "),t.qZA())}function T(e,a){if(1&e&&(t.TgZ(0,"div",13),t.YNc(1,x,2,0,"p",9),t.YNc(2,w,2,0,"p",9),t.YNc(3,P,2,0,"p",9),t.qZA()),2&e){const n=t.oxw();let o,r,i;t.xp6(1),t.Q6J("ngIf",null==(o=n.accountData.get("name"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.accountData.get("name"))?null:r.getError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(i=n.accountData.get("name"))?null:i.getError("pattern"))}}function M(e,a){if(1&e&&(t.TgZ(0,"p",14),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",n.errMsg," ")}}function q(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," Email address is required "),t.qZA())}function O(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," email is invalid, e.g johndoe@example.com "),t.qZA())}function U(e,a){if(1&e&&(t.TgZ(0,"div",13),t.YNc(1,q,2,0,"p",9),t.YNc(2,O,2,0,"p",9),t.qZA()),2&e){const n=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=n.accountData.get("email"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.accountData.get("email"))?null:r.getError("email"))}}function I(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," Phone number is required "),t.qZA())}function y(e,a){1&e&&(t.TgZ(0,"p",14),t._uU(1," Phone number must be Egyptian, e.g 01123456789 "),t.qZA())}function N(e,a){if(1&e&&(t.TgZ(0,"div",13),t.YNc(1,I,2,0,"p",9),t.YNc(2,y,2,0,"p",9),t.qZA()),2&e){const n=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=n.accountData.get("phone"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.accountData.get("phone"))?null:r.getError("pattern"))}}let D=(()=>{class e{constructor(n,o){this._UpdateUserService=n,this._FormBuilder=o,this.errMsg="",this.accountData=this._FormBuilder.group({name:["",[s.kI.required,s.kI.minLength(3),s.kI.pattern(/^[a-zA-Z0-9 ]+$/)]],email:["",[s.kI.required,s.kI.email]],phone:["",[s.kI.required,s.kI.pattern(/^(010|011|012|015)\d{8}$/)]]})}ngOnInit(){m().init({duration:1e3})}onSubmit(){"VALID"==this.accountData.status&&this._UpdateUserService.updateUserData(this.accountData.value).subscribe({next:n=>{console.log(n)},error:n=>{this.errMsg=n.error.message}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_),t.Y36(s.qu))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-account-information"]],decls:20,vars:5,consts:[["data-aos","fade-down","data-aos-offset","40"],[1,"h5","fw-bolder","mb-4"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputs","mb-3"],[1,"inputGroup","mb-3"],[1,"px-2","py-2","input"],["formControlName","name","type","text","placeholder","Full name",1,"w-100"],["class","alerts",4,"ngIf"],["formControlName","email","type","email","placeholder","john@example.com",1,"w-100"],["class","mb-0 px-2 text-danger",4,"ngIf"],[1,"inputGroup"],["formControlName","phone","type","text","placeholder","Your phone number",1,"w-100"],["type","submit",1,"primary-btn","fw-bold","fs-6"],[1,"alerts"],[1,"mb-0","px-2","text-danger"]],template:function(o,r){if(1&o&&(t.TgZ(0,"main",0)(1,"h2",1),t._uU(2,"Account information"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"input",6),t.qZA(),t.YNc(8,T,4,3,"div",7),t.qZA(),t.TgZ(9,"div",4)(10,"div",5),t._UZ(11,"input",8),t.qZA(),t.YNc(12,M,2,1,"p",9),t.YNc(13,U,3,2,"div",7),t.qZA(),t.TgZ(14,"div",10)(15,"div",5),t._UZ(16,"input",11),t.qZA(),t.YNc(17,N,3,2,"div",7),t.qZA()(),t.TgZ(18,"button",12),t._uU(19," Apply Changes "),t.qZA()()()),2&o){let i,d,c;t.xp6(3),t.Q6J("formGroup",r.accountData),t.xp6(5),t.Q6J("ngIf",(null==(i=r.accountData.get("name"))?null:i.errors)&&(null==(i=r.accountData.get("name"))?null:i.touched)),t.xp6(4),t.Q6J("ngIf",r.errMsg),t.xp6(1),t.Q6J("ngIf",(null==(d=r.accountData.get("email"))?null:d.errors)&&(null==(d=r.accountData.get("email"))?null:d.touched)),t.xp6(4),t.Q6J("ngIf",(null==(c=r.accountData.get("phone"))?null:c.errors)&&(null==(c=r.accountData.get("phone"))?null:c.touched))}},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:["form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{transition:.5s;overflow:hidden;display:flex;width:75%;flex-direction:column}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid var(--border-color);background:var(--input-bg);border-radius:10px}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:0;background:transparent;font-size:18px}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus-within{border-color:var(--brand-color)}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--brand-color);background:transparent;box-shadow:0 0 2px 1px var(--brand-color)}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--brand-color)}@media (max-width: 767px){main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{width:100%}}"]})}return e})();var J=l(2452),k=l(8014),Y=l(5219);function Q(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",19),t._UZ(1,"i",20),t.TgZ(2,"h5",6),t._uU(3,"Log Out Confirmation"),t.qZA(),t.TgZ(4,"p",21),t._uU(5,' You will be logged out of your account . If you\'re sure you want to log out, click "Log Out" below. Otherwise, click "Cancel" to stay logged in. '),t.qZA(),t.TgZ(6,"div",22)(7,"button",23),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.logOut())}),t._uU(8,"Log Out"),t.qZA(),t.TgZ(9,"button",24),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.visible=!1)}),t._uU(10,"Cancel"),t.qZA()()()}}const S=function(){return{width:"25rem"}};let E=(()=>{class e{constructor(){this.visible=!1}ngOnInit(){m().init({duration:1e3})}showDialog(){this.visible=!0}logOut(){localStorage.removeItem("token"),window.location.reload()}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-account"]],decls:38,vars:5,consts:[[1,"mt-5"],[1,"container"],[1,"mb-3","fw-bolder"],[1,"row","gy-4","mt-4"],["data-aos","fade-right",1,"col-md-3","h-100"],[1,"links","p-3","h-100"],[1,"fw-bolder"],[1,"p-0"],[1,"mb-2"],["routerLink","account-information"],["routerLink","change-password"],["routerLink","address"],["routerLink","/wishlist"],["role","button",3,"click"],["routerLink","/allorders"],[1,"col-md-9","px-3"],[1,"child-container"],[3,"modal","visible","visibleChange"],["pTemplate","headless"],[1,"text-center","dialog","p-4","rounded-3","mx-2"],[1,"fa-solid","fa-exclamation","bg-warning","mb-3"],[1,"fw-medium"],[1,"buttons","d-flex","gap-2","justify-content-center"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-dark",3,"click"]],template:function(o,r){1&o&&(t._UZ(0,"app-client-nav"),t.TgZ(1,"main",0)(2,"div",1)(3,"h1",2),t._uU(4,"My profile"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h6",6),t._uU(9,"My account"),t.qZA(),t.TgZ(10,"ul",7)(11,"li",8)(12,"a",9),t._uU(13,"Account information"),t.qZA()(),t.TgZ(14,"li",8)(15,"a",10),t._uU(16,"Change password"),t.qZA()(),t.TgZ(17,"li",8)(18,"a",11),t._uU(19,"Modify address"),t.qZA()(),t.TgZ(20,"li",8)(21,"a",12),t._uU(22,"Modify wishlist"),t.qZA()(),t.TgZ(23,"li",8)(24,"a",13),t.NdJ("click",function(){return r.showDialog()}),t._uU(25,"Logout"),t.qZA()()(),t.TgZ(26,"h6",6),t._uU(27,"My orders"),t.qZA(),t.TgZ(28,"ul",7)(29,"li",8)(30,"a",14),t._uU(31,"View orders history"),t.qZA()()()()(),t.TgZ(32,"div",15)(33,"div",16),t._UZ(34,"router-outlet"),t.qZA()()()()(),t.TgZ(35,"p-dialog",17),t.NdJ("visibleChange",function(d){return r.visible=d}),t.YNc(36,Q,11,0,"ng-template",18),t.qZA(),t._UZ(37,"app-footer")),2&o&&(t.xp6(35),t.Akn(t.DdM(4,S)),t.Q6J("modal",!0)("visible",r.visible))},dependencies:[u.lC,u.rH,J.C,k.c,h.V,Y.jx],styles:["main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{background:var(--secondary-color);border-radius:15px}main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px}main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--paragraph-color);font-weight:500;font-size:16px}.dialog[_ngcontent-%COMP%]{background:#fff}.dialog[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:10px 20px;border-radius:50%;font-size:25px;color:#fff;box-shadow:0 0 0 .2rem #ffc10769}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--paragraph-color)}"]})}return e})();var v=l(2425);function F(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," Your name is required "),t.qZA())}function L(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," Name must be at least 3 characters. "),t.qZA())}function G(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," Name can not contain special characters. "),t.qZA())}function j(e,a){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,F,2,0,"p",12),t.YNc(2,L,2,0,"p",12),t.YNc(3,G,2,0,"p",12),t.qZA()),2&e){const n=t.oxw();let o,r,i;t.xp6(1),t.Q6J("ngIf",null==(o=n.addressDetails.get("name"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.addressDetails.get("name"))?null:r.getError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(i=n.addressDetails.get("name"))?null:i.getError("pattern"))}}function z(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," Address details is required "),t.qZA())}function H(e,a){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,z,2,0,"p",12),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.addressDetails.get("details"))?null:o.getError("required"))}}function R(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," City name is required "),t.qZA())}function B(e,a){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,R,2,0,"p",12),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.addressDetails.get("city"))?null:o.getError("required"))}}function $(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," Phone number is required "),t.qZA())}function V(e,a){1&e&&(t.TgZ(0,"p",13),t._uU(1," Phone number must be Egyptian, e.g 01123456789 "),t.qZA())}function X(e,a){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,$,2,0,"p",12),t.YNc(2,V,2,0,"p",12),t.qZA()),2&e){const n=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=n.addressDetails.get("phone"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.addressDetails.get("phone"))?null:r.getError("pattern"))}}let K=(()=>{class e{constructor(n,o,r,i){this._UpdateUserService=n,this._FormBuilder=o,this.router=r,this.toastr=i,this.errMsg="",this.addressId="",this.addressDetails=this._FormBuilder.group({name:["",[s.kI.required,s.kI.minLength(3),s.kI.pattern(/^[a-zA-Z0-9 ]+$/)]],details:["",s.kI.required],city:["",s.kI.required],phone:["",[s.kI.required,s.kI.pattern(/^(010|011|012|015)\d{8}$/)]]})}onSubmit(){"VALID"==this.addressDetails.status&&this._UpdateUserService.addAddress(this.addressDetails.value).subscribe({next:n=>{"success"==n.status&&(this.router.navigate(["/account/address"]),this.toastr.success("Address added successfully"))},error:n=>{this.errMsg=n.error.message}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_),t.Y36(s.qu),t.Y36(u.F0),t.Y36(v._W))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-address"]],decls:23,vars:5,consts:[[1,"h5","fw-bolder","mb-4"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputs","mb-3"],[1,"inputGroup","mb-3"],[1,"px-2","py-2","input"],["formControlName","name","type","text","placeholder","Full name",1,"w-100"],["class","alerts",4,"ngIf"],["formControlName","details","type","text","placeholder","Address details",1,"w-100"],["formControlName","city","type","text","placeholder","City name",1,"w-100"],["formControlName","phone","type","text","placeholder","Phone number",1,"w-100"],["type","submit",1,"primary-btn","fw-bold","fs-6"],[1,"alerts"],["class","mb-0 px-2 text-danger",4,"ngIf"],[1,"mb-0","px-2","text-danger"]],template:function(o,r){if(1&o&&(t.TgZ(0,"main")(1,"h2",0),t._uU(2,"Edit address"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4),t._UZ(7,"input",5),t.qZA(),t.YNc(8,j,4,3,"div",6),t.qZA(),t.TgZ(9,"div",3)(10,"div",4),t._UZ(11,"input",7),t.qZA(),t.YNc(12,H,2,1,"div",6),t.qZA(),t.TgZ(13,"div",3)(14,"div",4),t._UZ(15,"input",8),t.qZA(),t.YNc(16,B,2,1,"div",6),t.qZA(),t.TgZ(17,"div",3)(18,"div",4),t._UZ(19,"input",9),t.qZA(),t.YNc(20,X,3,2,"div",6),t.qZA()(),t.TgZ(21,"button",10),t._uU(22," Confirm address "),t.qZA()()()),2&o){let i,d,c,f;t.xp6(3),t.Q6J("formGroup",r.addressDetails),t.xp6(5),t.Q6J("ngIf",(null==(i=r.addressDetails.get("name"))?null:i.errors)&&(null==(i=r.addressDetails.get("name"))?null:i.touched)),t.xp6(4),t.Q6J("ngIf",(null==(d=r.addressDetails.get("details"))?null:d.errors)&&(null==(d=r.addressDetails.get("details"))?null:d.touched)),t.xp6(4),t.Q6J("ngIf",(null==(c=r.addressDetails.get("city"))?null:c.errors)&&(null==(c=r.addressDetails.get("city"))?null:c.touched)),t.xp6(4),t.Q6J("ngIf",(null==(f=r.addressDetails.get("phone"))?null:f.errors)&&(null==(f=r.addressDetails.get("phone"))?null:f.touched))}},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:["form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{transition:.5s;overflow:hidden;display:flex;width:75%;flex-direction:column}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid var(--border-color);background:var(--input-bg);border-radius:10px}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:0;background:transparent;font-size:18px}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus-within{border-color:var(--brand-color)}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--brand-color);background:transparent;box-shadow:0 0 2px 1px var(--brand-color)}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--brand-color)}@media (max-width: 767px){main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{width:100%}}"]})}return e})();function W(e,a){if(1&e&&(t.TgZ(0,"p",16),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",n.errMsg," ")}}function tt(e,a){1&e&&(t.TgZ(0,"p",16),t._uU(1," Current password is required "),t.qZA())}function et(e,a){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,tt,2,0,"p",7),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=n.passwordData.get("currentPassword"))?null:o.getError("required"))}}function nt(e,a){1&e&&(t.TgZ(0,"p",16),t._uU(1," New password is required "),t.qZA())}function ot(e,a){1&e&&(t.TgZ(0,"p",16),t._uU(1," Password requires at least one uppercase letter and one number. "),t.qZA())}function rt(e,a){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,nt,2,0,"p",7),t.YNc(2,ot,2,0,"p",7),t.qZA()),2&e){const n=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=n.passwordData.get("password"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.passwordData.get("password"))?null:r.getError("pattern"))}}function st(e,a){1&e&&(t.TgZ(0,"p",16),t._uU(1," Confirm password number is required "),t.qZA())}function at(e,a){1&e&&(t.TgZ(0,"p",16),t._uU(1," Passwords does not match "),t.qZA())}function it(e,a){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,st,2,0,"p",7),t.YNc(2,at,2,0,"p",7),t.qZA()),2&e){const n=t.oxw();let o,r;t.xp6(1),t.Q6J("ngIf",null==(o=n.passwordData.get("rePassword"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=n.passwordData.get("rePassword"))?null:r.getError("misMatch"))}}const dt=function(){return{width:"25rem"}};function ct(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h6")(3,"span",7),t._uU(4,"Full name : "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"h6")(7,"span",7),t._uU(8,"Address : "),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"h6")(11,"span",7),t._uU(12,"City : "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"h6")(15,"span",7),t._uU(16,"Phone number : "),t.qZA(),t._uU(17),t.qZA()(),t.TgZ(18,"div",8)(19,"button",9),t.NdJ("click",function(){const i=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.deleteAddress(i._id))}),t._uU(20," delete address "),t.qZA()()()}if(2&e){const n=a.$implicit;t.xp6(5),t.Oqu(n.name),t.xp6(4),t.hij(" ",n.details,""),t.xp6(4),t.hij(" ",n.city,""),t.xp6(4),t.hij(" ",n.phone," ")}}const ut=[{path:"account",component:E,title:"Account",children:[{path:"",redirectTo:"account-information",pathMatch:"full"},{path:"account-information",component:D},{path:"change-password",component:(()=>{class e{constructor(n,o){this._UpdateUserService=n,this._FormBuilder=o,this.errMsg="",this.visible=!1,this.passwordData=this._FormBuilder.group({currentPassword:[null,[s.kI.required]],password:[null,[s.kI.required,s.kI.pattern(/^(?=.*[A-Z])(?=.*\d).{8,}$/)]],rePassword:[null]},{validators:[this.confirmPassword]})}ngOnInit(){m().init({duration:1e3})}confirmPassword(n){let o=n.get("password"),r=n.get("rePassword");null==r?.value?r?.setErrors({required:!0}):o?.value!==r?.value&&r?.setErrors({misMatch:!0})}onSubmit(){"VALID"==this.passwordData.status&&this._UpdateUserService.updateUserPassword(this.passwordData.value).subscribe({next:n=>{"success"===n.message&&this.showDialog()},error:n=>{this.errMsg="password"===n.error.errors.param?n.error.errors?.msg:n.error.message}})}showDialog(){this.visible=!0}removeToken(){localStorage.removeItem("token"),window.location.reload()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_),t.Y36(s.qu))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-change-password"]],decls:26,vars:10,consts:[["data-aos","fade-down"],[1,"h5","fw-bolder","mb-4"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputs","mb-3"],[1,"inputGroup","mb-3"],[1,"px-2","py-2","input"],["formControlName","currentPassword","type","password","placeholder","Current Password",1,"w-100"],["class","mb-0 px-2 text-danger",4,"ngIf"],["class","alerts",4,"ngIf"],["formControlName","password","type","password","placeholder","New password",1,"w-100"],[1,"inputGroup"],["formControlName","rePassword","type","password","placeholder","Confirm password",1,"w-100"],["type","submit",1,"primary-btn","fw-bold","fs-6"],["header","Account logout","draggable","false",3,"modal","visible","visibleChange"],[1,"text-center"],["type","button",1,"primary-btn",3,"click"],[1,"mb-0","px-2","text-danger"],[1,"alerts"]],template:function(o,r){if(1&o&&(t.TgZ(0,"main",0)(1,"h2",1),t._uU(2,"Change password"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"input",6),t.qZA(),t.YNc(8,W,2,1,"p",7),t.YNc(9,et,2,1,"div",8),t.qZA(),t.TgZ(10,"div",4)(11,"div",5),t._UZ(12,"input",9),t.qZA(),t.YNc(13,rt,3,2,"div",8),t.qZA(),t.TgZ(14,"div",10)(15,"div",5),t._UZ(16,"input",11),t.qZA(),t.YNc(17,it,3,2,"div",8),t.qZA()(),t.TgZ(18,"button",12),t._uU(19," Change password "),t.qZA()(),t.TgZ(20,"p-dialog",13),t.NdJ("visibleChange",function(d){return r.visible=d}),t.TgZ(21,"div",14)(22,"p"),t._uU(23,"You're going to be logged out"),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){return r.removeToken()}),t._uU(25," Ok "),t.qZA()()()()),2&o){let i,d,c;t.xp6(3),t.Q6J("formGroup",r.passwordData),t.xp6(5),t.Q6J("ngIf",r.errMsg),t.xp6(1),t.Q6J("ngIf",(null==(i=r.passwordData.get("currentPassword"))?null:i.errors)&&(null==(i=r.passwordData.get("currentPassword"))?null:i.touched)),t.xp6(4),t.Q6J("ngIf",(null==(d=r.passwordData.get("password"))?null:d.errors)&&(null==(d=r.passwordData.get("password"))?null:d.touched)),t.xp6(4),t.Q6J("ngIf",(null==(c=r.passwordData.get("rePassword"))?null:c.errors)&&(null==(c=r.passwordData.get("rePassword"))?null:c.touched)),t.xp6(3),t.Akn(t.DdM(9,dt)),t.Q6J("modal",!0)("visible",r.visible)}},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.V],styles:["form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{transition:.5s;overflow:hidden;display:flex;width:75%;flex-direction:column}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid var(--border-color);background:var(--input-bg);border-radius:10px}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:0;background:transparent;font-size:18px}form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .inputGroup[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus-within{border-color:var(--brand-color)}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--brand-color);background:transparent;box-shadow:0 0 2px 1px var(--brand-color)}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--brand-color)}@media (max-width: 767px){main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{width:100%}}"]})}return e})()},{path:"address",component:(()=>{class e{constructor(n,o){this._UpdateUserService=n,this.toastr=o,this.userAddresses=[]}ngOnInit(){m().init({duration:1e3}),this._UpdateUserService.getUserAddresses().subscribe(n=>{this.userAddresses=n.data})}deleteAddress(n){this._UpdateUserService.deleteAddress(n).subscribe({next:o=>{this.userAddresses=o.data,this.toastr.error("Address deleted successfully")},error:o=>{console.log(o)}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_),t.Y36(v._W))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-modify-address"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-12"],["data-aos","fade-left","class","address d-flex justify-content-between align-items-center mb-4 border rounded-4 p-3",4,"ngFor","ngForOf"],["routerLink","/account/add-address",1,"primary-btn","fw-bold"],[1,"fa-solid","fa-plus"],["data-aos","fade-left",1,"address","d-flex","justify-content-between","align-items-center","mb-4","border","rounded-4","p-3"],[1,"address__details"],[1,"fw-bold"],[1,"address_controls","d-flex","gap-3","align-items-center"],[1,"btn","btn-danger","text-capitalize","fw-bold",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"main")(1,"div",0)(2,"div",1),t.YNc(3,ct,21,4,"div",2),t.qZA()(),t.TgZ(4,"button",3),t._UZ(5,"i",4),t._uU(6," Add address "),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngForOf",r.userAddresses))},dependencies:[g.sg,u.rH],styles:["@media (max-width: 767px){main[_ngcontent-%COMP%]   .address_controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}}"]})}return e})()},{path:"add-address",component:K}]}];let pt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(ut),u.Bz]})}return e})(),gt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[g.ez,pt,Z.m,s.UX,h.S]})}return e})()}}]);